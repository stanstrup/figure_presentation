# Text Sizing {background-color="#1abc9c"}

## The Zoom Fallacy

**Wrong approach:**

::: {.incremental}
1. Create plot with default sizes
2. Text too small in document
3. Zoom/resize entire image 200%
4. **Result**: Huge points/lines, barely larger text ðŸ˜ž
:::

## Why This Fails

::: {.columns}
::: {.column width="50%"}
**When you resize image:**

- Points: 2Ã— larger
- Lines: 2Ã— thicker
- Text: only slightly larger
- Proportions: all wrong
:::

::: {.column width="50%"}
**Correct approach:**

- Set final dimensions first
- Use width/height to scale ALL elements
- Let dimensions control text size
:::
:::

## Key Concept: Width/Height Controls Text Scaling

::: {.callout-note}
## The Smart Way to Size Text

**You DON'T need to explicitly set text sizes!**

Just use the `width` and `height` parameters in `ggsave()`:

```r
# Same plot, different dimensions = different text scaling
p <- ggplot(mtcars, aes(wt, mpg)) + geom_point()

# Small figure â†’ smaller text
ggsave("small.pdf", p, width = 3, height = 2)

# Large figure â†’ larger text
ggsave("large.pdf", p, width = 9, height = 6)
```

**Why this works:**
- Width/height control the **canvas size**
- Text scales proportionally with canvas
- No explicit font size changes needed!
:::

## Vector Graphics: Absolute Size Doesn't Matter

::: {.callout-important}
## For Vector Formats (PDF, EPS, SVG)

**The absolute dimensions (3" vs 9") don't actually matter!**

What matters is:
- **Aspect ratio** (width:height ratio)
- **Relative proportions** of plot elements

```r
# These create IDENTICAL vector graphics (just different canvas sizes)
ggsave("small.pdf", p, width = 3, height = 3)   # 3" Ã— 3"
ggsave("large.pdf", p, width = 9, height = 9)   # 9" Ã— 9"

# When you zoom either PDF to the same size, they look identical!
```

**For vectors:** Think of width/height as **scaling factors**, not absolute sizes.
:::

## DPI: Only for Raster Formats

::: {.callout-warning}
## DPI is ONLY relevant for raster images (PNG, JPEG, TIFF)

**Vector formats (PDF, EPS) ignore DPI!**

```r
# For vectors - DPI has no effect
ggsave("plot.pdf", p, width = 5, height = 4, dpi = 300)   # DPI ignored
ggsave("plot.pdf", p, width = 5, height = 4, dpi = 72)    # Same result!

# For raster - DPI controls pixel count
ggsave("plot.png", p, width = 5, height = 4, dpi = 300)   # 1500 Ã— 1200 pixels
ggsave("plot.png", p, width = 5, height = 4, dpi = 72)    # 360 Ã— 288 pixels
```

**DPI = Dots (pixels) Per Inch**
- Higher DPI = more pixels = higher resolution raster
- Vector graphics have **infinite resolution** regardless of DPI
:::

## The Practical Approach

::: {.callout-tip}
## Simplified Workflow

**For vectors (recommended for publications):**

1. Set a comfortable working size: `width = 6, height = 4`
2. Adjust `base_size` if text feels too large/small
3. Save as PDF - dimensions are just a starting point
4. Journal/editor can scale the PDF as needed without quality loss

**For raster (if required):**

1. Find required dimensions from journal
2. Set `width` and `height` to those exact dimensions
3. Set `dpi = 300` (or journal requirement)
4. This ensures correct pixel count for print quality

```r
# Vector approach (flexible)
ggsave("figure.pdf", p, width = 6, height = 4)

# Raster approach (precise)
ggsave("figure.png", p, width = 3.5, height = 3, dpi = 300, units = "in")
```
:::

## The Right Way

```{r}
#| echo: true
#| eval: false
#| code-line-numbers: "|1-3|5-10|12"

# Step 1: Know your final dimensions
# e.g., journal single column = 3.5 inches

p <- ggplot(mtcars, aes(wt, mpg)) +
  geom_point(size = 3) +  # Explicit point size
  theme_classic(base_size = 14) +  # Base text size
  theme(
    axis.title = element_text(size = 16),
    axis.text = element_text(size = 12),
    legend.text = element_text(size = 12)
  )

ggsave("plot.pdf", p, width = 3.5, height = 3, units = "in")
```

## Journal Requirements

| Journal Type | Single Column | Double Column |
|--------------|---------------|---------------|
| Nature/Science | 89 mm (3.5") | 183 mm (7.2") |
| PLOS | 8.3 cm (3.27") | 17.3 cm (6.81") |
| Cell | 85 mm (3.35") | 174 mm (6.85") |

::: {.callout-note}
Always check specific journal guidelines!
:::

## Minimum Font Sizes

**Rule of thumb for print:**

- Minimum readable: **6-8 pt**
- Comfortable reading: **10-12 pt**
- Titles: **14-16 pt**

::: {.fragment}
**Test**: Print at actual size (not "fit to page")!
:::

## The Math of Sizing

```{r}
#| echo: true
#| eval: false

# If final width is 3.5 inches
# and you want 12 pt axis labels:

# base_size sets the base text size in pts
theme_classic(base_size = 12)

# Other elements scale relative to base_size:
# - axis.title: 1.1Ã— base_size
# - axis.text: 0.8Ã— base_size
# - legend.text: 0.8Ã— base_size
```

Use `base_size` as your starting point!

## Common Sizing Mistakes

::: {.columns}
::: {.column width="50%"}
**âŒ Bad**

```{r}
#| echo: true
#| eval: false

p <- ggplot(mtcars, aes(wt, mpg)) +
  geom_point()

# Save at random size
ggsave("plot.pdf", p,
       width = 10, height = 8)

# Then resize in Word/PowerPoint
```
:::

::: {.column width="50%"}
**âœ… Good**

```{r}
#| echo: true
#| eval: false

p <- ggplot(mtcars, aes(wt, mpg)) +
  geom_point() +
  theme_classic(base_size = 11)

# Save at final size
ggsave("plot.pdf", p,
       width = 3.5, height = 3)

# No resizing needed!
```
:::
:::

## Designing for Multiple Outputs

```{r}
#| echo: true
#| eval: false

# Create base plot
p <- ggplot(mtcars, aes(wt, mpg)) + geom_point()

# For paper (small, high detail)
p + theme_classic(base_size = 11)
ggsave("paper.pdf", width = 3.5, height = 3, dpi = 300)

# For presentation (large, readable from distance)
p + theme_classic(base_size = 18)
ggsave("slides.png", width = 10, height = 7, dpi = 150)
```

Different outputs need different sizes!

## Testing Readability

::: {.incremental}
1. **Print at actual size** (100%, not "fit to page")
2. **View PDF at 100% zoom** (not zoomed in/out)
3. **Ask**: Can I comfortably read axis labels?
4. **Check**: Are labels too large/small relative to plot area?
:::

## Aspect Ratio Matters

```{r}
#| echo: true
#| eval: false

# Wide plots for time series
ggsave("timeseries.pdf", width = 8, height = 4)

# Square for correlation plots
ggsave("correlation.pdf", width = 5, height = 5)

# Tall for many categories
ggsave("categories.pdf", width = 5, height = 8)
```

Choose dimensions based on data structure!

## Multi-Panel Figures

```{r}
#| echo: true
#| eval: false

library(patchwork)

p1 <- ggplot(mtcars, aes(wt, mpg)) + geom_point() +
  theme_classic(base_size = 10)

p2 <- ggplot(iris, aes(Sepal.Length, Sepal.Width)) + geom_line() +
  theme_classic(base_size = 10)

combined <- p1 + p2

# Size for final combined figure
ggsave("figure1.pdf", combined, width = 7, height = 3.5)

# Each subplot is now 3.5 Ã— 3.5 inches
# with 10pt text - readable!
```

## Controlling Individual Elements

```{r}
#| echo: true
#| eval: false
#| code-line-numbers: "|2|3|4|5|6|7"

theme_classic(base_size = 12) +
  theme(
    axis.title.x = element_text(size = 14),
    axis.title.y = element_text(size = 14),
    axis.text.x = element_text(size = 10),
    axis.text.y = element_text(size = 10),
    legend.title = element_text(size = 12, face = "bold"),
    legend.text = element_text(size = 10),
    plot.title = element_text(size = 16, face = "bold"),
    strip.text = element_text(size = 11)  # facet labels
  )
```

Full control over every text element!

## Working Backwards from Requirements

::: {.callout-tip}
## Design Process

1. **Find out final size** (journal specs, poster dimensions)
2. **Determine minimum font size** (usually 8-10 pt for print)
3. **Set base_size** to achieve minimum
4. **Create plot at final dimensions**
5. **Test**: Print at actual size
6. **Adjust** if needed
:::

## Example: Journal Submission

```{r}
#| echo: true
#| eval: false

# Journal requires:
# - Single column: 85 mm wide
# - Minimum 7 pt font
# - Maximum height: 240 mm

# Convert mm to inches: 85mm = 3.35"
# Set base_size to get 7pt minimum (axis.text = 0.8 Ã— base)
# 7 / 0.8 = 8.75, round to 9

my_plot <- ggplot(mtcars, aes(wt, mpg)) +
  geom_point() +
  theme_classic(base_size = 9) +
  labs(title = "Fuel Efficiency")

ggsave("journal_fig.pdf", my_plot,
       width = 3.35, height = 4, units = "in", device = cairo_pdf)
```

## Key Takeaways

::: {.callout-important}
## Remember

- **NEVER resize image** to make text larger
- **SET SIZES EXPLICITLY** for final output
- **DESIGN AT FINAL DIMENSIONS** from the start
- **PRINT TEST** at actual size
- **base_size** is your friend - use it!
:::
